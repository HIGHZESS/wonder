<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ez.wonder.member.model.MemberDAO">
   <insert id="insertMember" parameterType="memberVo">
      <selectKey resultType="int" keyProperty="memNo" order="BEFORE">
         select MEMBER_seq.nextval from dual
      </selectKey>
      insert into member(mem_no,user_id,name,pwd,nickname,email,tel)
      values(#{memNo},#{userId},#{name},#{pwd},#{nickname},#{email},#{tel})
   </insert>
   
   <select id="duplicateId" parameterType="String" resultType="int">
   select count(*) from member 
   where user_id=#{userId}
   </select>
   
   <select id="selectPwd" parameterType="string" resultType="String">
      select pwd from member
      where user_id=#{userId} and outdate is null
   </select>

   <select id="selectByUserid" parameterType="string" resultType="memberVo">
      select * from member where user_id=#{userId}
   </select>
   
      <update id="deleteMember">
      update member set outdate=sysdate 
      where user_id=#{userId}
   </update>
</mapper>